<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="/css/application.css" />
    <title>Prendre rendez-vous</title>
  </head>
  <body class="bg-gray-100">
    <fieldset>
      <div class="max-w-md mx-auto">
        <div class="text-base text-gray-700 text-lg lg:text-3xl text-center mt-8 pb-10">
          Choissiez un jour
        </div>

        <div
          id="day"
          class="flex flex-col md:flex-row flex-wrap md:flex-no-wrap justify-center"
        >
          <button
            id="monday"
            name="monday"
            class="dayButtons m-3 py-4 px-12 rounded-lg bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white border border-blue-500 hover:border-transparent rounded"
          >
            Lundi
          </button>
          <button
            id="tuesday"
            name="tuesday"
            class="dayButtons m-3 py-4 px-12 rounded-lg bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white border border-blue-500 hover:border-transparent rounded"
          >
            Mardi
          </button>
          <button
            id="wednesday"
            name="wednesday"
            class="dayButtons m-3 py-4 px-12 rounded-lg bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white border border-blue-500 hover:border-transparent rounded"
          >
            Mercredi
          </button>
          <button
            id="thursday"
            name="thursday"
            class="dayButtons m-3 py-4 px-12 rounded-lg bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white border border-blue-500 hover:border-transparent rounded"
          >
            Jeudi
          </button>
          <button
            id="friday"
            name="friday"
            class="dayButtons m-3 py-4 px-12 rounded-lg bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white border border-blue-500 hover:border-transparent rounded"
          >
            Vendredi
          </button>
          <button
            id="saturday"
            name="saturday"
            class="dayButtons m-3 py-4 px-12 rounded-lg bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white border border-blue-500 hover:border-transparent rounded"
          >
            Samedi
          </button>
        </div>
      </div>
    </fieldset>

    <fieldset class="hidden">
      <div>
        <div class="text-base text-gray-700 text-lg lg:text-3xl text-center mt-8 pb-10">
          Choissiez une heure
        </div>
        <div
          class="grid grid-cols-2 md:grid-cols-4 mx-4 md:mx-64 mt-3 md:mt-24"
        >
          <button
            data-index="8h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            8h
          </button>
          <button
            data-index="9h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            9h
          </button>
          <button
            data-index="10h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            10h
          </button>
          <button
            data-index="11h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 focus:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            11h
          </button>
          <button
            data-index="12h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            12h
          </button>
          <button
            data-index="13h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            13h
          </button>
          <button
            data-index="14h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            14h
          </button>
          <button
            data-index="15h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            15h
          </button>
          <button
            data-index="16h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            16h
          </button>
          <button
            data-index="17h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            17h
          </button>
          <button
            data-index="18h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            18h
          </button>
          <button
            data-index="19h"
            class="hourButton m-3 py-4 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            19h
          </button>
        </div>
        <div class="flex mx-8 md:mx-64 mt-3">
          <button
            id="next"
            class="flex-1 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
            onclick="next()"
          >
            Suivant
          </button>
        </div>
      </div>
    </fieldset>

    <fieldset class="hidden">
      <div class="md:flex md:items-center mb-6">
        <div class="md:w-1/3">
          <label
            class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"
            for="inline-full-email"
          >
            Email
          </label>
        </div>
        <div class="md:w-2/3">
          <input
            class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
            id="inline-full-email"
            type="email"
            placeholder="exemple@email.com"
          />
        </div>
      </div>
      <div class="md:flex md:items-center mb-6">
        <div class="md:w-1/3">
          <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="inline-phone">
            Numéro téléphone
          </label>
        </div>
        <div class="md:w-2/3">
          <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" id="inline-phone" type="text" placeholder="0694152632">
        </div>
      </div>
    </fieldset>
  </body>
  <script>
    let selectedDay;
    let nextActiveForm = 0;
    const fieldsets = document.getElementsByTagName("fieldset");
    const selectorsDay = [].slice.call(
      document.getElementsByClassName("dayButtons")
    );
    selectorsDay.forEach((element, index) => {
      element.addEventListener("click", (event) => {
        // Send the text content of the clicked element for processing.
        selectedDay = {
          dayName: event.target.id,
          hours: [],
          phone: "",
          email: "",
        };
      });
    });

    const selectorsHour = [].slice.call(
      document.getElementsByClassName("dayButtons")
    );
    selectorsHour.forEach((element, index) => {
      element.addEventListener("click", (event) => {
        selectedDay = {
          dayName: selectedDay.dayName,
          hours: event.target.getAttribute("data-index"),
          phone: "",
          email: "",
        };
        let selection = fieldsets[nextActiveForm];
        selection.className = "hidden";
        nextActiveForm = nextActiveForm + 1;
        selection = fieldsets[nextActiveForm];
        selection.className = "block";
      });
    });
    function next() {
      //move to next form
      let selection = fieldsets[nextActiveForm];
      selection.className = "hidden";
      nextActiveForm = nextActiveForm + 1;
      selection = fieldsets[nextActiveForm];
      selection.className = "block";
    }
  </script>
</html>
